# 만들기 전 계획

목표: TDD방식으로 구현해 보자!!!

## 프론트

사용 스택

리액트, 타입스크립트



## 백엔드 

사용 스택

장고(REST FRAMEWORK)

### model

#### User

- username
  - AbstractUser(상속)
- password
  - AbstractUser(상속)
- nickname(option)
  - CharField, max_length=20
- myQuestions
  - manytomany, on_delete=models.SET_NULL
    - 한 유저가 여러개의 질문을 갖고, 한 질문을 여러 유저가 가질 수 있으니까
    - 작성자가 질문을 삭제하더라도 그 질문을 통해 공부하고 있던 사람이 갑자기 질문이 사라지면 안되니까. 

#### Question

home에 질문 리스트 나열하기 위해 

- content
  - TextField
- authon
  - ForeignKey(User), on_delete=models.SET_NULL
    - 한명의 유저는 여러개의 질문을 만들 수 있지만, 질문의 작성자는 한명이다. 
- def count
  - 역참조를 이용해 몇명에게 참조되었나 확인할 예정
  - 순위를 매길때 사용.


#### QuestionUser

각 질문에 중요도를 부과해서 관리하기 위해 

- question
  - OneToOneField(Question), on_delete=models.SET_NULL
    - 작성자가 질문을 삭제한다고 해도 해당 질문으로 공부하는 사람까지 그 영향이 가는 것을 막기 위해 
- user
  - ForeignKey(User), on_delete=models.CASCADE
    - 누구를 위한 질문 모음인지 알기 위해 

- importance
  - PositiveIntegerField, default=3
    - 중요도: 기본을 3으로 하고 문제를 풀고 자가 평가를 통해 부족하면 +1, 보통이면 그대로, 잘하면 -1을 하여 최종적으로 0이 되면 나오지 않게 된다. 




### url

#### Question

- "", home (GET)
  - 모든 질문지 리스트가 보여짐
  - 페이지네이션을 통해 숫자 제한
  - 사람들이 많이 참조한 순서대로 보여줌
  - ```json
    # Question 나열
    [
        {
            "content":"TCP/IP에 대해 설명해 보세요.",
            "authon": "김이박"
        },
         {
            "content":"정규화란 무엇인가요?",
            "authon": "김이박"
         },
          {
            "content":"파이썬을 배우기 시작한 이유가 무엇인가요?",
            "authon": "박박이"
         }
    ]
- "create", CreateQuestion (POST)
  - 질문지 생성
  - 만든 사람은 자동 참조
  - ```json
    # Question생성, 본인 QuestionUser 생성
    {
        "content":"트랜잭션에 대해 설명해 주세요.",
    }
    ```
- "select", SelectQuestion (POST)
  - 선택 질문지를 myQuestions에 추가
  
  - ```json
    # 본인 QuestionUser 생성
    {
        "question":2,
    }
    ```
- "delete", DeleteQuestion (DELETE)
  - 관리자 혹은 작성자는 질문지를 지울 수 있다. 
  
  - ```json
    # Question 삭제
    {
        "question":2,
    }
    ```

\# 수정은 다른 유저가 받은 질문지에 영향을 끼칠 수 있으므로 만들지 않음

#### users

- "my-list", MyList (GET)
  - 내가 선택한 질문지를 중요도 순서대로 나열
  
  - 중요도 수정 가능
  
  - 중요도 0이 되면 자동 삭제
  
  - 면접 시작 버튼 있음
  
  - ```json
    # 본인 QuestionUser 리스트 
    [
        {
            "pk":4,
            "content":"트랜잭션에 대해 설명해 주세요.",
            "importance": 3
    	},
        {
            "pk":1,
            "content": "TCP/IP에 대해 설명해 보세요.",
            "importance": 2
        }
    ]
    ```
  
- "my-list/delete/{pk}" (DELETE)
  - 해당 질문지 삭제
  
- "my-list/importance-number" (PUT)
  - 한번에 중요도 수정하기
  
  - ```json
    [
        {
            "pk":1,
            "importance": 4
        },
        {
            "pk":2,
            "importance": 3
        },
        {
            "pk":3,
            "importance": 2
        },
    ]
    ```
  
- "my-list/start" 
  - 현재 리스트중 1개가 랜덤하게 나옴
    - 확률은 (각 리스트의 중요도)/(각 리스트의 중요도의 합)
      - ex) 리스트 1,2,3 의 중요도는 4,3,2 이다. 
        그러면 리스트 1이 나올 확률 4/9
        리스트 2가 나올 확률 3/9
        리스트 3이 나올 확률 2/9가 된다. 
    
  - 스스로 체크를 통해 만족/보통/부족으로 나눌 수 있다. 
    - 만족이면 중요도 -1
    - 보통이면 중요도 그대로
    - 부족이면 중요도 + 1 
    
  - 입력후 채점을 입력한 내용 자동 복사가 되고 chatGPT화면으로 자동 이동
    Ctrl + v 만 하면 챗GPT가 피드백을 해 주도록 만들 예정
    
  - 자기 평가까지 마치면 "한번 더", "돌아가기" 두개의 버튼이 나온다. 
  
  - ```json
    # request
    [
        {
            "pk":1
        },
        {
            "pk":2
        },
        {
            "pk":3
        }
    ]
    # response
    {
        "pk": 1,
        "content":"TCP/IP에 대해 설명해 보세요."
    }
    ```

​	

## 데이터 베이스 

MYSQL























추가 해야 하는것

1. 화면 켜지고 붙여 넣는 법 알아보기
2. mysql 사용법 다시 봐야 할뜻?
3. TDD 방식으로 계획해 보기

```python 
# 컴퓨터 자동 끄기 코드. 추후 사용 예정
import time
import webbrowser
import os
def shutdown() :
            os.system("shutdown -s -t 0")
# 17시59분이 되면 알람 울리기
while True:
    now = time.localtime()
    if now.tm_hour == 11 and now.tm_min == 44:
        url = "https://www.youtube.com/watch?v=lqFby1rSGyI"
        webbrowser.open(url)
        time.sleep(30)
        os.system("taskkill /im chrome.exe /f")
        time.sleep(30)
        if name == "main":
            shutdown()
    else:
        time.sleep(60) # 1분 대기 후 다시 검사 ctrl + c로 종료
```





